add_library(${PLUGIN_IMPL} SHARED @PLUGIN_NAME@.hpp @PLUGIN_NAME@.cpp)
target_include_directories(${PLUGIN_IMPL} PRIVATE ${PDAL_INCLUDE_DIRS})
target_link_libraries(${PLUGIN_IMPL} PRIVATE ${PDAL_LIBRARIES} ${CMAKE_THREAD_LIBS_INIT})

install(FILES
        ${CMAKE_CURRENT_BINARY_DIR}/lib${PLUGIN_IMPL}.so
        DESTINATION lib
        PERMISSIONS OWNER_READ OWNER_WRITE GROUP_READ WORLD_READ)

set_target_properties(${PLUGIN_IMPL} PROPERTIES
    VERSION ${FULL_VERSION_STRING}
    SOVERSION ${@PLUGIN_NAME@_MAJOR_VERSION}
    CLEAN_DIRECT_OUTPUT 1)
