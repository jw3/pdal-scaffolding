cmake_minimum_required(VERSION 3.0)
project(@PLUGIN_NAME@)

if(EXISTS ${CMAKE_BINARY_DIR}/conanbuildinfo.cmake)
    include(${CMAKE_BINARY_DIR}/conanbuildinfo.cmake)
    conan_basic_setup()
else()
    message(WARNING "The file conanbuildinfo.cmake doesn't exist, you have to run conan install first")
endif()

find_package(PDAL 1.6.0 REQUIRED CONFIG)

find_package(Threads REQUIRED)
set(CMAKE_THREAD_PREFER_PTHREAD TRUE)

set(PLUGIN_IMPL pdal_plugin_@PLUGIN_TYPE@_@PLUGIN_NAME@)
set(PLUGIN_TESTS pdal_plugin_@PLUGIN_TYPE@_@PLUGIN_NAME@_Test)

include_directories(src)

add_subdirectory(src)
add_subdirectory(test)
